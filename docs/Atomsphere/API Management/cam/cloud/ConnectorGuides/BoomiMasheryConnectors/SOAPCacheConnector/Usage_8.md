---
sidebar_position: 2
---

# Usage

<head>
  <meta name="guidename" content="API Management"/>
  <meta name="context" content="GUID-b582172b-dc99-4263-8f69-b79c39464c51"/>
</head>

This section includes examples of how to use the SOAP Connector. All examples have an endpoint key of 794k2psw642cf. 

## Examples

|**Request Headers** |**Request Payload** |**Pre-Input Config** |**Response Headers** |**Cache TTL** |**Response Payload** |**Comments** |
| --- | --- | --- | --- | --- | --- | ----|
|Content-Type: application/xml |`<?xml version="1.0" encoding="UTF-8"?><employee><first-name>Jane</first-name><last-name>Doe</last-name><address>Paris</address><phone-number>123456</phone-number></employee>` | |Content-Type: application/json |Endpoint Level TTL : 30|`{"iata_number": "12345678"}` |<p>Caching: Yes </p><p>If the second request comes within 30 seconds of the same endpoint with the same request payload, the response is retrieved from the cache. </p>|
|Content-Type: application/xml |`<?xml version="1.0" encoding="UTF-8"?> <employee> <first-name>Jane</first-name> <last-name>Doe</last-name> <address>Paris</address> <phone-number>123456</phone-number> </employee>`| |Content-Type: application/zip | |Zip file attached in the response. |<p>Caching: No </p><p>Caching will not be performed for binary responses. </p>|
|Content-Type: application/json |`{"iata_number": "12345678"}`|- |Content-Type : application/xml |<p>Service Level TTL : 30 </p><p>Endpoint Level TTL : 60 </p>|`<?xml version=\"1.0\" encoding=\"UTF-8\"?><soapenv:Envelope xmlns:soapenv=\" [http://schemas.xmlsoap.org/soap/envelope/\](HTTP://SCHEMAS.XMLSOAP.ORG/SOAP/ENVELOPE//) " xmlns:urn=\"urn:com.cgi.payment.nspartyservice.v1\" xmlns:urn1=\"urn:com.cgi.common.service.types.v1\" xmlns:urn2=\"urn:com.cgi.common.types.v1\"><soapenv:Header /><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>` |<p>Caching: Yes </p><p>If the second request comes within 30 seconds of the same endpoint with the same request payload, the response is retrieved from the cache. </p>|
|Content-Type: application/xml |`<?xml version="1.0" encoding="UTF-8"?><availabilityRQ xmlns="http://www.acme.com/schemas/messages/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" dailyRate="true"><stay checkIn="2016-06-15" checkOut="2016-06-16" /></availabilityRQ>`|- |Content-Type : application/xml | |`<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:com.cgi.payment.nspartyservice.v1" xmlns:urn1="urn:com.cgi.common.service.types.v1" xmlns:urn2="urn:com.cgi.common.types.v1"><soapenv:Header /><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>`|<p>Caching: No </p><p>Caching is only performed for the SOAP request. </p>|
|Content-Type: application/soap+xml |`<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:com.cgi.payment.nspartyservice.v1" xmlns:urn1="urn:com.cgi.common.service.types.v1" xmlns:urn2="urn:com.cgi.common.types.v1"><soapenv:Header/><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>`|headers:   `{"Content-Type"}` |Content-Type: application/json | |`{"iata_number": "12345678"}` |<p>Caching: Yes </p><p>If Cache TTL is not configured on service and endpoint level and second request comes within 300 seconds on same endpoint with same request payload and same Content-Type, then response will be fetched from cache. </p>|
|Content-Type: text/xml |`<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:com.cgi.payment.nspartyservice.v1" xmlns:urn1="urn:com.cgi.common.service.types.v1" xmlns:urn2="urn:com.cgi.common.types.v1"><soapenv:Header /><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>`|headers:`{"Content-Type", "Host"}`, `cache_ttl:30` |Content-Type: application/json | |`{"iata_number": "12345678"}` |<p>Caching: Yes </p><p>If Cache TTL is not configured on service and endpoint level and second request comes within 300 seconds on same endpoint with same request payload and same Content-Type, then response will be fetched from cache. </p>|
|Content-Type: text/xml |`<?xml version="1.0" encoding="UTF-8"?><availabilityRQ xmlns="http://www.acme.com/schemas/messages/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" dailyRate="true"><stay checkIn="2016-06-15" checkOut="2016-06-16" />`|- |Content-Type: application/json | |`{"iata_number": "12345678"}` |<p>Caching: No </p><p>A 400 Bad Request error is displayed because the request payload contains SOAP message. </p>|
|- |`<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:com.cgi.payment.nspartyservice.v1" xmlns:urn1="urn:com.cgi.common.service.types.v1" xmlns:urn2="urn:com.cgi.common.types.v1"><soapenv:Header /><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>`|- |Content-Type: application/json | |`{"iata_number": "12345678"}` |<p>Caching: No </p><p>Caching is not performed as the request's Content-Type is not defined. </p>|
|Content-Type: application/xml |`<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:com.cgi.payment.nspartyservice.v1" xmlns:urn1="urn:com.cgi.common.service.types.v1" xmlns:urn2="urn:com.cgi.common.types.v1"><soapenv:Header /><soapenv:Body><urn:VersionId>1</urn:VersionId><urn:RegistedEntityPk>OrgKey3</urn:RegistedEntityPk></soapenv:Body></soapenv:Envelope>`|- |- | |`{"iata_number": "12345678"}` |<p>Caching: No </p><p>Caching is not performed as the request's Content-Type is not defined. </p>|
|Content-Type: application/xml |- |- |Content-Type: application/json | |`{"iata_number": "12345678"}` |<p>Caching: No </p><p>Caching is not performed as the request's payload is empty. </p>|

